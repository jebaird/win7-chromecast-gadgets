<html>
	<head>
		<style type="text/css">
			body{ 
			width:221px;
			height:350px;
			margin:0px;
		}
		</style>

	</head>
	<body>
		<p>
			<label>font size</label>
			<input type="text" id="size">
		</p>
		<p>
			<label>font color</label>
			<input type="text" id="color">
		</p>
		<p>
			<label>font face</label>
			<input type="text" id="face">
		</p>
		<p>
			<label>alignment</label>
			<input id="alignment" />
			left or right
		</p>
		<p>
			<label>filter</label>
			<textarea id="filter" rows="10" style="width:100%"></textarea>
		</p>
		
		
		
		
		<script type="text/javascript">
			var _size = document.getElementById("size");
			var _color = document.getElementById("color");
			var _face = document.getElementById("face");
			var _filter = document.getElementById("filter");
			var _alignment = document.getElementById("alignment");
			
			function init(){
				_size.value = System.Gadget.Settings.readString("size") || 15;
				_color.value = System.Gadget.Settings.readString("color") || 'whitesmoke';
				_face.value = System.Gadget.Settings.readString("face") || 'arial';
				_filter.value = System.Gadget.Settings.readString("filter") || '';
				_alignment.value = System.Gadget.Settings.readString("alignment") || 'left';
			}
			System.Gadget.onSettingsClosing = settingsClosing;


		// save the settings
		function settingsClosing(event) {
			alert("settingsClosing");
			try{
				if (event.closeAction == event.Action.commit) {
					
					var settings = ['size','color','face'];
					
					System.Gadget.Settings.writeString("size", _size.value || 15 ) ;
					System.Gadget.Settings.writeString("color", _color.value || 'whitesmoke' );
					System.Gadget.Settings.writeString("face",_face.value || 'arial' );
					System.Gadget.Settings.writeString("filter",_filter.value || '' );
					System.Gadget.Settings.writeString("alignment",_alignment.value || 'left' );
				}
				event.cancel = false;
			} catch(err) {alert("settingsClosing: "+err.name+" - "+err.message)}
		}
		
		init();
			
		</script>
	</body>
</html>
